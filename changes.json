[
  {
    "action": "modify",
    "path": "offline.html",
    "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  <title>Offline - PrisimAI</title>\n  <link rel=\"manifest\" href=\"manifest.json\" />\n  <link rel=\"stylesheet\" href=\"style.css\" />\n  <style>\n    /* Inline critical styles in case external CSS fails to load offline */\n    body {\n      font-family: 'Inter', sans-serif;\n      background-color: #0f172a;\n      color: #f8fafc;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      height: 100vh;\n      margin: 0;\n      text-align: center;\n      padding: 1rem;\n    }\n    .offline-container {\n      max-width: 500px;\n      background-color: rgba(255, 255, 255, 0.05);\n      padding: 2rem;\n      border-radius: 12px;\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);\n    }\n    h1 {\n      font-size: 2rem;\n      margin-bottom: 1rem;\n      font-weight: 700;\n      color: #38bdf8;\n    }\n    p {\n      font-size: 1rem;\n      line-height: 1.5;\n      margin-bottom: 1.5rem;\n    }\n    button {\n      background-color: #38bdf8;\n      border: none;\n      padding: 0.75rem 1.25rem;\n      font-size: 1rem;\n      border-radius: 8px;\n      cursor: pointer;\n      color: #0f172a;\n      font-weight: 600;\n      transition: background-color 0.3s;\n    }\n    button:hover {\n      background-color: #0ea5e9;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"offline-container\">\n    <h1>You are offline</h1>\n    <p>It looks like you have lost your internet connection. You can continue browsing cached content, or try reconnecting to resume your chat.</p>\n    <button onclick=\"window.location.reload()\">Retry Connection</button>\n  </div>\n</body>\n</html>",
    "description": "Redesign offline.html to visually match the site's sleek dark theme and modern style with responsive layout and retry button."
  },
  {
    "action": "create",
    "path": "dev/offline.test.js",
    "content": "describe('Offline Page UI', () => {\n  let document;\n\n  beforeEach(() => {\n    document = window.document;\n    document.body.innerHTML = require('fs').readFileSync('offline.html', 'utf8');\n  });\n\n  test('renders offline message', () => {\n    const heading = document.querySelector('h1');\n    expect(heading).not.toBeNull();\n    expect(heading.textContent.toLowerCase()).toContain('offline');\n  });\n\n  test('retry button exists', () => {\n    const button = document.querySelector('button');\n    expect(button).not.toBeNull();\n    expect(button.textContent.toLowerCase()).toContain('retry');\n  });\n\n  test('retry button reloads the page', () => {\n    const button = document.querySelector('button');\n    const reloadMock = jest.fn();\n    window.location.reload = reloadMock;\n    button.click();\n    expect(reloadMock).toHaveBeenCalled();\n  });\n});",
    "description": "Test suite for offline.html verifying UI elements and button functionality."
  },
  {
    "action": "modify",
    "path": "README.md",
    "content": "[![pages-build-deployment](https://github.com/PrisimAI/PrisimAI/actions/workflows/pages/pages-build-deployment/badge.svg)](https://github.com/PrisimAI/PrisimAI/actions/workflows/pages/pages-build-deployment)\n\n# PrisimAI\n\nPrisimAI is a progressive web app (PWA) that lets you chat with models powered by Pollinations.ai. Itâ€™s designed to look sleek, run fast, and stay usable even when offline. Once installed, PrisimAI behaves like a native app on desktop or mobile, complete with icons, splash screens, and offline support.\n\n## âœ¨ Features\n\n- Chat Interface â€“ Seamless, modern chat UI built with Tailwind CSS.\n- Model Selection â€“ Choose different AI models from Pollinations API.\n- PWA Support â€“ Installable on desktop and mobile, with offline caching.\n- Offline Mode â€“ Displays a custom offline page when thereâ€™s no internet, styled to match the site theme with a retry button.\n- Theming â€“ Colors and fonts configured for a clean, modern experience.\n- Cross-Platform Support â€“ Works on Chrome, Edge, Safari, and mobile browsers.\n\n## ðŸš€ Getting Started\n### 1. Clone the Repository\n```bash\ngit clone https://github.com/yourusername/prisimai.git\ncd prisimai\n```\n\n### 2. Add Icons\nPlace your generated icons in the /icons folder.\n\n**Required:** icon-192.png and icon-512.png\n\n*Optional:* Apple Touch Icon (apple-touch-icon.png) and favicons\n\nIf you donâ€™t already have icons, you can generate them using a favicon generator (e.g. favicon.io).\n\n### 3. Run Locally\nYou need a local server to test service workers (they donâ€™t run from file://).\n\n*Quick option: use Pythonâ€™s HTTP server:*\n```bash\n# Python 3\npython -m http.server 8080\n```\n\n### 4. Offline Page Styling\nWhen you are offline, PrisimAI will show a dedicated offline page matching the dark theme of the app, with a concise message and a retry button.\n\nThis is cached by the service worker and does not require internet access to display.",
    "description": "Update README to document the redesigned offline page and its features."
  }
]
